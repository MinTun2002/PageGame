<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gaming Website</title>
    <link rel="stylesheet" href="./css/all.min.css">
    <link rel="stylesheet" href="./css/style.css">
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500&family=Roboto&display=swap"
      rel="stylesheet"
    />
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-gamepad"></i>
                <p>The Game Zone</p>
            </div>
            <ul class="navbar">
                <li><a href="./game/snake/main.html">SNAKE</a></li>
                <li><a href="./game/radius-raid/radius-raid-js13k-master/index.html">RADIUS RAID</a></li>
                <li><a href="./game/mario/Mario Game/index.html">MARIO</a></li>
                <li><a href="./game/2048/2048-master/index.html">2048</a></li>
            </ul>
            <button type="button" id="btn"><i class="fas fa-play"></i>EXIT</button>

            <script>
            const btn = document.getElementById("btn");
            btn.addEventListener("click", () => {
                window.location.href = "/logout";
            });
            </script>

        </header>

        <div class="content-wrapper">
            <div class="content-desc">
                <h1>THE GAME ZONE</h1>
                <p>Welcome to our game page! </p>
                <p>This is a place where you can have fun and challenge yourself with a variety of games</p>

                <button id="btn2">FUNNY</button>
            </div>

            <div class="rakuto"></div>
        </div>
    </div>

    <div class="logo-section">
        <i class="fas fa-gamepad"></i>
        <h1>The Game Zone</h1>
    </div>
    
    <section class="section-1">
        <div class="section-1-wrapper">  
            <h1>GAME GIẢI TRÍ</h1>
            <br>
            <div class="section-1-img">
                <div class="game">
                <a href="./game/2048/2048-master/index.html"><div class="img img-1"></div></a>
                <a class = "cmt">
                    <div class="comment-placeholder">Comment</div>
                    <h1>Comment - 2048</h1>

                    <form id="comment-form">
                        <input type="text" id="name-input" placeholder="Your Name"><br>
                        <textarea id="comment-input" placeholder="Enter your comment"></textarea><br>
                        <button type="submit">Submit</button>
                    </form>
                
                    <h2>Comments</h2>
                    <ul id="comments-list"></ul>
                
                    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                    <script>
                        document.addEventListener('DOMContentLoaded', function() {
                            let commentValue = '';
                
                            // Sự kiện khi người dùng thay đổi nội dung trong input
                            $('#comment-input').on('input', function() {
                                commentValue = $(this).val();
                            });
                
                            // Gửi bình luận
                            $('#comment-form').submit(async function(event) {
                                event.preventDefault();
                
                                const name = $('#name-input').val();
                                const content = commentValue;
                
                                // Kiểm tra nội dung và tên người dùng không được rỗng
                                if (content.trim() === '' || name.trim() === '') {
                                    console.error('Error: Comment content and name are required.');
                                    return;
                                }
                
                                const data = { name, content };
                
                                try {
                                    await $.ajax({
                                        url: '/api/comments/2048',
                                        method: 'POST',
                                        contentType: 'application/json',
                                        data: JSON.stringify(data),
                                        success: function () {
                                            $('#comment-input').val('');
                                            $('#name-input').val('');
                                            commentValue = ''; // Đặt lại giá trị biến sau khi gửi bình luận thành công
                                            loadComments();
                                        },
                                        error: function (xhr, status, error) {
                                            console.error('Error:', error);
                                            console.log(xhr.responseText);
                                        }
                                    });
                                } catch (error) {
                                    console.error('Error:', error);
                                }
                            });
                
                            // Tải danh sách bình luận
                            async function loadComments() {
                                try {
                                    const response = await $.ajax({
                                        url: '/api/comments/2048',
                                        method: 'GET',
                                        dataType: 'json'
                                    });
                
                                    // Hiển thị danh sách bình luận
                                    const commentsList = $('#comments-list');
                                    commentsList.empty();
                
                                    response.forEach(comment => {
                                        const commentItem = $('<li>').text(`Name: ${comment.name}, Content: ${comment.content}`);
                                        commentsList.append(commentItem);
                                    });
                                } catch (error) {
                                    console.error('Error:', error);
                                }
                            }
                
                            // Gọi hàm loadComments khi trang web được tải lần đầu
                            loadComments();
                        });
                    </script>
                </a>
                
            </div>
            <div class="game">
                <a href="./game/angry-bird-fake/index.html"><div class="img img-2"></div></a>
                <a href="/api/comments/comment-angrybird"><button class="comment-button">Bình luận</button></a>
            </div>
            <div class="game">
                <a href="./game/co-caro/online-caro-master/online-caro-master/index.html"><div class="img img-3"></div></a>
                <a href="/api/comments/comment-caro"><button class="comment-button">Bình luận</button></a>
            </div>
            <div class="game">
                <a href="./game/quantum-game/quantum-game-master/quantum-game-master/index.html"><div class="img img-4"></div></a>
                <a href="/api/comments/comment-quantum"><button class="comment-button">Bình luận</button></a>
            </div>
            <div class="game">
                <a href="./game/connect-candy/code-game-the-goi-ngot-ngao/index.html"><div class="img img-6"></div></a>
                <a href="/api/comments/comment-candy"><button class="comment-button">Bình luận</button></a>
            </div>
               <div class="game">
                <a href="./game/tower-block/Tower-blocks-game-master/index.html"><div class="img img-5"></div></a>
                <a href="/api/comments/comment-tower"><button class="comment-button">Bình luận</button></a>
                
               </div>
               <div class="game">
                <a href="./game/co-caro/online-caro-master/online-caro-master/index.html"><div class="img img-7"></div></a>
                <a href="/api/comments/comment-tower"><button class="comment-button">Bình luận</button></a>
               </div>
            
            </div>
        </div>
        
        <div class="game-categories">
            <h1>GAME KỸ NĂNG</h1>
            <div class="game-wrapper">
                <a href="./game/battle-city/battle-city/index.html"><div class="gw gw-1"></div></a>
                <a href="./game/mario/Mario Game/index.html"><div class="gw gw-2"></div></a>
                <a href="./game/radius-raid/radius-raid-js13k-master/index.html"><div class="gw gw-4"></div></a>
                <a href="./game/snake/main.html"><div class="gw gw-5"></div></a>
            </div>
    
            <div class="game-wrapper left">
                <a href="./game/Traffic_Racer/01.Traffic_Racer/01.Traffic_Racer/1.Original/01.Traffic_Racer/HTML5-Game/index.html"><div class="gw gw-6"></div></a>
                <a href="./game/xep-khoi/tetris-master/tetris-master/index.html"><div class="gw gw-7"></div></a>
                <a href="./game/tic-tac-toe/tic tac toe/index.html"><div class="gw gw-8"></div></a>
                <a href="./game/shot-zombie/Shoot-the-zombie-game-main/Shoot-the-zombie-game-main/html/index.html"><div class="gw gw-9"></div></a>
                <a href="#"><div class="gw gw-10"></div></a>
            </div>
        </div>
    </section>
    <footer>
        <div class="footer-body">
            <div class="logo footer-logo">
                <i class="fas fa-gamepad"></i>
                <h1>The Game Zone</h1>
            </div>
            <ul>
                <h3>Get In Touch</h3>
                <li><a href="#"><i class="fab fa-facebook"></i>Facebook</a></li>
                <li><a href="#"><i class="fab fa-instagram"></i>Instagram</a></li>
                <li><a href="#"><i class="fab fa-twitter"></i>Twitter</a></li>
                <li><a href="#"><i class="fab fa-linkedin"></i>Linkedin</a></li>
            </ul>
        </div>
    </footer>
    <div class="footer-bottom">
        <p>Copyright &copy; All Right Reserved | Designed <span>By CNPM</span> 2023</p>
    </div>
</body>
</html>